import java.util.ArrayList;
import java.util.Arrays;
import java.util.Stack;

public class App {

	public static void main(String args[]){
		ArrayList<Order> orders = new ArrayList<>();
		Arrays.stream(Input.orders).forEach(x -> orders.add(new Order(x[0],x[1] - 1,x[2] - 1)));

		ArrayList<Stack<Character>> stacks1 = new ArrayList<>();
		ArrayList<Stack<Character>> stacks2 = new ArrayList<>();
		for (int m = 0; m < 9; m++) {
			stacks1.add(new Stack<>());
			stacks2.add(new Stack<>());
			for (int n = 0; n < 8; n++) {
				Character box = Input.state[7-n][m];
				if (!box.equals('§')) {
					stacks1.get(m).push(box);
					stacks2.get(m).push(box);
				}
			}
		}

		orders.forEach(order -> {
			for (int n = 0; n < order.count; n++) { stacks1.get(order.to).push(stacks1.get(order.from).pop()); }
		});
		printTopBox(stacks1);

		Stack<Character> crane = new Stack<>();
		orders.forEach(order -> {
			for (int n = 0; n < order.count; n++) { crane.push(stacks2.get(order.from).pop()); }
			while (!crane.isEmpty()) { stacks2.get(order.to).push(crane.pop()); }
		});
		printTopBox(stacks2);
	}

	static void printTopBox(ArrayList<Stack<Character>> stacks) {
		for (int m = 0; m < 9; m++) {
			System.out.print(stacks.get(m).pop());
		}
		System.out.println("");
	}
}

class Order {
	int count, from, to;
	public Order(int count, int from, int to) {
		this.count = count;
		this.from = from;
		this.to = to;
	}

	@Override
	public String toString() {
		return "Order{" +
				"count=" + count +
				", from=" + from +
				", to=" + to +
				'}';
	}
}

class Input {
	/*
	Hiding this stuff here
	 */
	public static char[][] state = {
			{'N','§','§','§','R','§','§','§','C'},
			{'T','J','§','§','S','J','§','§','N'},
			{'B','Z','§','H','M','Z','§','§','D'},
			{'S','P','§','G','L','H','Z','§','T'},
			{'Q','D','§','F','D','V','L','S','M'},
			{'H','F','V','J','C','W','P','W','L'},
			{'G','S','H','Z','Z','T','F','V','H'},
			{'R','H','Z','M','T','M','T','Q','W'}};
	public static int[][] orders = {{3,9,7},{4,4,5},{2,4,6},{4,7,5},{3,7,3},{2,5,9},{5,6,3},{5,9,1},{3,8,4},{3,4,6},{8,1,8},{1,8,6},{2,8,2},{5,8,4},{1,8,1},{6,6,4},{1,7,9},{5,1,7},{1,1,2},{2,9,8},{6,4,9},{1,6,8},{3,2,7},{4,2,8},{4,9,3},{6,5,4},{7,8,1},{10,4,1},{12,1,5},{1,4,9},{1,2,3},{2,9,1},{1,9,3},{1,6,7},{1,9,1},{3,1,3},{9,5,9},{2,2,7},{2,7,4},{3,9,4},{7,5,7},{5,1,3},{2,4,5},{1,4,6},{1,6,9},{4,9,2},{12,7,9},{2,4,9},{6,5,9},{3,7,6},{12,9,6},{5,9,1},{1,7,6},{14,6,1},{20,3,5},{5,9,5},{3,2,8},{1,6,4},{1,9,2},{1,4,6},{1,2,6},{16,1,5},{1,2,1},{12,5,6},{1,8,4},{29,5,1},{5,6,9},{20,1,3},{4,1,3},{11,3,8},{1,4,3},{4,9,8},{7,1,8},{2,3,2},{2,6,7},{1,9,8},{10,3,5},{1,6,1},{1,7,2},{3,1,2},{6,2,4},{2,6,3},{4,6,5},{1,6,2},{1,2,9},{6,5,2},{1,9,3},{24,8,7},{1,4,8},{5,5,4},{1,4,8},{1,8,7},{2,8,9},{1,9,7},{6,2,4},{10,3,7},{3,5,3},{1,9,8},{3,3,8},{4,8,7},{1,4,6},{1,6,4},{13,4,3},{17,7,6},{1,6,3},{2,4,8},{3,7,5},{14,6,7},{1,5,9},{1,5,9},{2,6,7},{1,5,1},{1,1,6},{1,9,3},{29,7,4},{10,4,3},{6,7,5},{1,6,5},{1,9,7},{1,7,2},{4,3,2},{1,2,9},{1,8,5},{11,3,4},{24,4,7},{2,2,5},{10,3,2},{6,2,1},{5,4,7},{1,9,2},{3,5,1},{1,4,6},{4,2,3},{5,5,7},{2,5,3},{32,7,5},{16,5,1},{1,1,2},{3,2,9},{1,8,6},{3,7,6},{1,2,4},{5,6,8},{5,8,6},{2,9,3},{1,7,5},{9,5,4},{1,9,1},{2,3,1},{4,3,6},{1,3,8},{6,4,6},{6,5,9},{1,9,6},{1,5,1},{1,5,4},{1,3,6},{1,8,3},{1,4,2},{1,2,3},{17,6,4},{4,1,8},{3,9,6},{1,8,4},{1,9,7},{2,6,2},{1,7,8},{12,1,9},{8,9,2},{1,6,9},{6,2,8},{2,8,3},{18,4,9},{2,1,6},{1,6,5},{3,4,3},{7,3,8},{4,2,7},{1,4,6},{2,6,4},{13,9,6},{1,5,2},{5,9,3},{9,1,2},{1,1,8},{1,2,6},{3,7,6},{2,2,6},{9,8,6},{1,7,8},{1,8,7},{2,4,6},{5,3,6},{17,6,9},{7,8,4},{4,2,3},{17,6,2},{1,6,4},{1,7,8},{1,8,9},{24,9,6},{4,3,1},{1,1,5},{20,6,4},{4,6,9},{1,5,7},{2,4,2},{1,9,7},{25,4,3},{1,4,2},{2,1,6},{3,9,4},{2,4,7},{2,7,5},{1,4,2},{1,6,3},{1,1,5},{5,3,9},{1,5,6},{10,2,8},{9,2,5},{21,3,6},{1,7,6},{2,6,5},{5,9,7},{6,7,8},{19,6,9},{1,6,1},{8,8,1},{1,6,1},{2,8,5},{5,9,2},{6,8,2},{2,9,7},{9,9,4},{7,2,4},{1,6,4},{14,5,9},{1,1,8},{1,7,9},{4,2,9},{16,4,6},{3,2,8},{1,6,2},{2,8,9},{1,8,7},{1,8,3},{3,2,7},{1,3,9},{8,9,3},{4,7,8},{1,5,4},{4,6,3},{1,4,2},{9,3,8},{10,9,5},{8,6,7},{13,8,4},{8,5,2},{3,6,3},{7,9,6},{7,7,2},{2,4,6},{5,6,2},{3,1,5},{5,5,8},{4,6,2},{4,1,8},{15,2,6},{11,4,9},{12,6,8},{1,6,9},{5,3,7},{2,2,6},{6,7,1},{3,1,3},{1,4,1},{1,3,9},{1,3,9},{1,7,6},{1,3,2},{4,2,6},{4,2,7},{1,2,6},{4,1,6},{12,6,7},{2,6,1},{8,9,6},{1,7,4},{14,8,1},{8,1,5},{1,3,9},{5,9,5},{1,8,9},{1,9,2},{1,9,3},{5,8,3},{12,5,4},{1,9,2},{6,7,3},{7,3,2},{1,5,1},{1,8,3},{2,1,3},{2,6,9},{5,6,5},{5,1,7},{4,4,1},{7,2,8},{4,3,8},{1,9,3},{1,9,5},{4,1,8},{10,7,9},{1,6,7},{2,8,6},{6,4,2},{5,3,1},{2,6,3},{2,7,1},{5,2,5},{2,7,1},{7,5,7},{2,5,6},{2,5,3},{3,2,9},{9,9,3},{1,6,4},{3,3,1},{9,8,2},{6,3,6},{8,7,9},{4,9,8},{14,1,5},{1,9,2},{1,1,5},{2,3,6},{12,5,3},{2,2,8},{7,6,2},{12,2,8},{2,6,2},{6,9,6},{1,1,2},{1,9,3},{2,5,9},{1,9,2},{1,9,4},{1,3,2},{2,6,7},{2,6,9},{5,4,2},{14,3,9},{15,9,4},{1,7,4},{10,8,6},{1,5,9},{2,9,5},{10,8,1},{1,7,4},{5,1,2},{2,1,5},{3,4,6},{4,5,8},{5,8,6},{14,2,9},{2,6,7},{3,2,9},{3,1,7},{1,7,3},{3,7,1},{1,3,6},{1,7,6},{1,8,9},{2,1,4},{1,1,2},{16,9,4},{7,4,8},{5,8,1},{2,8,3},{2,1,7},{13,6,7},{2,2,3},{4,7,4},{6,4,5},{4,7,6},{3,1,2},{2,2,6},{3,3,8},{5,5,3},{2,9,6},{3,3,7},{1,8,1},{22,4,8},{1,4,3},{9,6,3},{1,2,1},{4,3,4},{2,4,5},{1,1,7},{4,3,7},{2,6,1},{1,6,7},{18,8,7},{2,6,5},{2,3,4},{1,5,4},{30,7,6},{2,1,3},{18,6,8},{12,6,4},{13,4,9},{2,3,8},{1,6,2},{3,7,2},{1,1,2},{2,5,9},{8,8,1},{1,7,8},{7,1,3},{2,4,9},{1,1,6},{4,2,1},{16,8,1},{1,2,6},{2,4,8},{2,5,1},{4,3,7},{3,7,1},{1,6,8},{1,8,9},{1,7,3},{6,3,5},{1,3,8},{1,6,9},{16,9,5},{4,5,3},{15,5,1},{1,5,8},{3,9,8},{9,8,5},{6,5,1},{4,5,6},{2,6,4},{1,6,4},{1,8,4},{3,3,6},{3,6,8},{1,6,8},{21,1,9},{4,8,5},{3,5,7},{2,5,1},{2,4,8},{2,8,2},{2,7,8},{1,7,9},{1,8,7},{5,1,8},{1,7,8},{4,8,4},{2,4,5},{1,2,7},{1,2,7},{2,7,6},{2,6,9},{1,4,9},{1,3,4},{16,1,5},{16,5,7},{2,5,4},{14,9,6},{5,4,3},{3,3,6},{5,1,4},{2,4,7},{7,9,4},{2,9,7},{10,6,9},{8,4,6},{1,8,4},{1,1,9},{14,6,3},{10,3,2},{3,7,8},{6,3,1},{2,7,9},{5,7,9},{10,9,1},{2,4,3},{1,2,1},{16,1,4},{1,6,1},{2,3,9},{3,8,5},{8,7,1},{3,5,9},{7,4,6},{7,1,5},{2,8,3},{1,7,8}};
}
